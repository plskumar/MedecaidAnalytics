<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Medicaid Member Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- React 18 & ReactDOM 18 -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>

  <!-- Babel for JSX -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    body {
      background: #0f172a;
      color: #e5e7eb;
    }

    .app-container {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    header {
      width: 100%;
      overflow: hidden;
    }

    .banner {
      width: 100%;
      height: 220px;
      background-image: url("https://images.pexels.com/photos/6129681/pexels-photo-6129681.jpeg?auto=compress&cs=tinysrgb&w=1600");
      background-size: cover;
      background-position: center;
    }

    .content {
      padding: 16px 24px 32px 24px;
      max-width: 1400px;
      margin: 0 auto;
      width: 100%;
    }

    .page-title {
      margin-top: 16px;
      margin-bottom: 20px;
      font-size: 24px;
      font-weight: 600;
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(12, 1fr);
      gap: 16px;
    }

    .card {
      background: #020617;
      border-radius: 18px;
      padding: 16px 18px;
      border: 1px solid #1f2937;
      box-shadow: 0 10px 25px rgba(0,0,0,0.45);
    }

    .card-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 12px;
    }

    .card-title {
      font-size: 16px;
      font-weight: 600;
      color: #e5e7eb;
    }

    .card-subtitle {
      font-size: 12px;
      color: #9ca3af;
      margin-top: 4px;
    }

    .badge {
      font-size: 11px;
      border-radius: 999px;
      padding: 4px 10px;
      border: 1px solid #4b5563;
      color: #d1d5db;
    }

    .metrics-row {
      display: flex;
      gap: 16px;
      flex-wrap: wrap;
    }

    .metric-pill {
      padding: 10px 12px;
      border-radius: 14px;
      background: #020617;
      border: 1px solid #1f2937;
      min-width: 140px;
      cursor: pointer;
      transition: border-color 0.15s ease, box-shadow 0.15s ease, background 0.15s ease;
    }

    .metric-pill:hover {
      border-color: #4b5563;
    }

    .metric-pill.active {
      border-color: #22c55e;
      box-shadow: 0 0 0 1px rgba(34,197,94,0.35);
    }

    .metric-label {
      font-size: 11px;
      color: #9ca3af;
      margin-bottom: 4px;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    .metric-value {
      font-size: 18px;
      font-weight: 600;
    }

    .metric-trend {
      margin-top: 2px;
      font-size: 11px;
      color: #6ee7b7;
    }

    .Interop-grid {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 10px;
      margin-top: 8px;
      margin-bottom: 10px;
    }

    .interop-stat {
      padding: 8px 10px;
      border-radius: 12px;
      background: #020617;
      border: 1px solid #1f2937;
    }

    .interop-label {
      font-size: 11px;
      color: #9ca3af;
      margin-bottom: 4px;
    }

    .interop-value {
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: color 0.15s ease;
    }

    .interop-value:hover {
      text-decoration: underline;
      color: #a5b4fc;
    }

    .interop-chip-row {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 4px;
    }

    .interop-chip {
      font-size: 10px;
      padding: 4px 8px;
      border-radius: 999px;
      border: 1px dashed #374151;
      color: #d1d5db;
      cursor: pointer;
      transition: border-color 0.15s ease, background 0.15s ease;
    }

    .interop-chip.active {
      border-color: #22c55e;
      background: #022c22;
    }

    .section-label {
      font-size: 11px;
      color: #9ca3af;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      margin-bottom: 6px;
    }

    .table-container {
      margin-top: 10px;
      max-height: 340px;
      overflow: auto;
      border-radius: 14px;
      border: 1px solid #1f2937;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 12px;
    }

    thead {
      background: #020617;
      position: sticky;
      top: 0;
      z-index: 5;
    }

    th, td {
      padding: 8px 10px;
      text-align: left;
      border-bottom: 1px solid #1f2937;
      white-space: nowrap;
    }

    th {
      font-size: 11px;
      color: #9ca3af;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    tr:nth-child(even) td {
      background: #020617;
    }

    .chip {
      display: inline-flex;
      padding: 4px 8px;
      border-radius: 999px;
      font-size: 11px;
      border: 1px solid #374151;
      background: #020617;
    }

    .chip.medicaid { border-color: #22c55e; }
    .chip.medicare { border-color: #38bdf8; }
    .chip.aca { border-color: #f97316; }

    .engage-button {
      padding: 5px 10px;
      border-radius: 999px;
      border: 1px solid #22c55e;
      background: transparent;
      color: #bbf7d0;
      font-size: 11px;
      cursor: pointer;
    }

    .page-footer {
      margin-top: 20px;
      font-size: 11px;
      color: #6b7280;
      display: flex;
      justify-content: space-between;
      flex-wrap: wrap;
      gap: 8px;
    }

    .page-footer span.highlight {
      color: #e5e7eb;
      font-weight: 500;
    }

    @media (max-width: 1024px) {
      .grid {
        grid-template-columns: repeat(1, minmax(0,1fr));
      }
    }

    @media (min-width: 1024px) {
      .col-span-4 { grid-column: span 4 / span 4; }
      .col-span-8 { grid-column: span 8 / span 8; }
      .col-span-12 { grid-column: span 12 / span 12; }
    }

    @media (max-width: 1023px) {
      .col-span-4,
      .col-span-8,
      .col-span-12 {
        grid-column: span 12 / span 12;
      }
      .banner {
        height: 180px;
      }
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState } = React;

    const mockMembers = [
      {
        id: "M001",
        name: "Ana Rodriguez",
        enrollmentDate: "2023-04-12",
        redeterminationDate: "2025-02-18",
        county: "King",
        plan: "Medicaid",
        pcp: "Dr. Chang",
        movementType: "Moved out of County",
        program: "Medicaid",
        outreachAttempts: 2,
      },
      {
        id: "M002",
        name: "James Clark",
        enrollmentDate: "2022-11-03",
        redeterminationDate: "2025-01-07",
        county: "Pierce",
        plan: "Medicaid",
        pcp: "Dr. Shah",
        movementType: "No Encounter Yet",
        program: "Medicaid",
        outreachAttempts: 1,
      },
      {
        id: "M003",
        name: "Maria Lopez",
        enrollmentDate: "2024-02-19",
        redeterminationDate: "2025-03-01",
        county: "Snohomish",
        plan: "Medicaid",
        pcp: "Dr. Patel",
        movementType: "Moved out of Network",
        program: "Medicaid",
        outreachAttempts: 3,
      },
      {
        id: "M004",
        name: "Robert Hill",
        enrollmentDate: "2021-09-30",
        redeterminationDate: "2025-04-10",
        county: "King",
        plan: "Medicare",
        pcp: "Dr. Green",
        movementType: "No Encounter Yet",
        program: "Medicare",
        outreachAttempts: 0,
      },
      {
        id: "M005",
        name: "Wei Chen",
        enrollmentDate: "2023-07-11",
        redeterminationDate: "2025-02-03",
        county: "Pierce",
        plan: "ACA",
        pcp: "Dr. Singh",
        movementType: "Moved out of County",
        program: "ACA",
        outreachAttempts: 1,
      },
    ];

    const App = () => {
      const [activeControl, setActiveControl] = useState("All members");
      const [activeKey, setActiveKey] = useState("");

      const totalMedicaid = 12457;
      const encounterPct = 68.4;
      const redeterminations90d = 842;

      const totalUniqueCCDAs = 15893;
      const unmatchedCCDAs = 1376;
      const unmatchedByProgram = {
        Medicare: 312,
        ACA: 289,
        Medicaid: 775,
      };

      const handleControlClick = (label, key) => {
        setActiveControl(label);
        setActiveKey(key);
      };

      // For this version, always show mockMembers so the table is never empty.
      const visibleMembers = mockMembers;

      const isActive = (key) => activeKey === key;

      return (
        <div className="app-container">
          <header>
            <div className="banner"></div>
          </header>

          <main className="content">
            <h1 className="page-title">Medicaid Member Dashboard</h1>

            <div className="grid">
              {/* Section 1 */}
              <section className="card col-span-4">
                <div className="card-header">
                  <div>
                    <div className="card-title">Assigned Medicaid Membership</div>
                    <div className="card-subtitle">
                      Click any number to show the member list
                    </div>
                  </div>
                  <span className="badge">Section 1</span>
                </div>

                <div className="metrics-row">
                  <div
                    className={"metric-pill " + (isActive("total") ? "active" : "")}
                    onClick={() =>
                      handleControlClick("Total assigned Medicaid members", "total")
                    }
                  >
                    <div className="metric-label">Total Members</div>
                    <div className="metric-value">
                      {totalMedicaid.toLocaleString()}
                    </div>
                    <div className="metric-trend">
                      Click to view member list
                    </div>
                  </div>

                  <div
                    className={"metric-pill " + (isActive("enc30") ? "active" : "")}
                    onClick={() =>
                      handleControlClick(
                        "Members with encounters in last 30 days (sample)",
                        "enc30"
                      )
                    }
                  >
                    <div className="metric-label">% with Encounters (30d)</div>
                    <div className="metric-value">
                      {encounterPct}%
                    </div>
                    <div className="metric-trend">
                      Click to view member list
                    </div>
                  </div>

                  <div
                    className={"metric-pill " + (isActive("red90") ? "active" : "")}
                    onClick={() =>
                      handleControlClick(
                        "Members with redetermination in next 90 days (sample)",
                        "red90"
                      )
                    }
                  >
                    <div className="metric-label">90d Redeterminations</div>
                    <div className="metric-value">
                      {redeterminations90d.toLocaleString()}
                    </div>
                    <div className="metric-trend">
                      Click to view member list
                    </div>
                  </div>
                </div>
              </section>

              {/* Section 2 */}
              <section className="card col-span-8">
                <div className="card-header">
                  <div>
                    <div className="card-title">Interop Statistics</div>
                    <div className="card-subtitle">
                      Click any number to drive the same member list
                    </div>
                  </div>
                  <span className="badge">Section 2</span>
                </div>

                <div className="Interop-grid">
                  <div className="interop-stat">
                    <div className="interop-label">Total Unique CCDAs</div>
                    <div
                      className="interop-value"
                      onClick={() =>
                        handleControlClick(
                          "Members associated with unique CCDAs (sample)",
                          "ccda-total"
                        )
                      }
                    >
                      {totalUniqueCCDAs.toLocaleString()}
                    </div>
                  </div>

                  <div className="interop-stat">
                    <div className="interop-label">Unmatched CCDAs</div>
                    <div
                      className="interop-value"
                      onClick={() =>
                        handleControlClick(
                          "Members associated with unmatched CCDAs (sample)",
                          "ccda-unmatched"
                        )
                      }
                    >
                      {unmatchedCCDAs.toLocaleString()}
                    </div>
                  </div>

                  <div className="interop-stat">
                    <div className="interop-label">Unmatched by Program</div>
                    <div className="interop-chip-row">
                      <span
                        className={
                          "interop-chip " + (isActive("prog-medicare") ? "active" : "")
                        }
                        onClick={() =>
                          handleControlClick(
                            "Unmatched Medicare members (sample)",
                            "prog-medicare"
                          )
                        }
                      >
                        Medicare: {unmatchedByProgram.Medicare}
                      </span>
                      <span
                        className={
                          "interop-chip " + (isActive("prog-aca") ? "active" : "")
                        }
                        onClick={() =>
                          handleControlClick(
                            "Unmatched ACA members (sample)",
                            "prog-aca"
                          )
                        }
                      >
                        ACA: {unmatchedByProgram.ACA}
                      </span>
                      <span
                        className={
                          "interop-chip " + (isActive("prog-medicaid") ? "active" : "")
                        }
                        onClick={() =>
                          handleControlClick(
                            "Unmatched Medicaid members (sample)",
                            "prog-medicaid"
                          )
                        }
                      >
                        Medicaid: {unmatchedByProgram.Medicaid}
                      </span>
                    </div>
                  </div>
                </div>

                <div className="section-label">
                  Member list for: {activeControl}
                </div>

                <div className="table-container">
                  <table>
                    <thead>
                      <tr>
                        <th>Member Name</th>
                        <th>Member ID</th>
                        <th>Enrollment Date</th>
                        <th>Redetermination Date</th>
                        <th>County</th>
                        <th>Health Plan</th>
                        <th>PCP</th>
                        <th>Movement Type</th>
                        <th>Program</th>
                        <th>Engage</th>
                      </tr>
                    </thead>
                    <tbody>
                      {visibleMembers.map((m) => (
                        <tr key={m.id}>
                          <td>{m.name}</td>
                          <td>{m.id}</td>
                          <td>{m.enrollmentDate}</td>
                          <td>{m.redeterminationDate}</td>
                          <td>{m.county}</td>
                          <td>{m.plan}</td>
                          <td>{m.pcp}</td>
                          <td>{m.movementType}</td>
                          <td>
                            <span className={"chip " + m.program.toLowerCase()}>
                              {m.program}
                            </span>
                          </td>
                          <td>
                            {m.program === "Medicaid" ? (
                              <button className="engage-button">Engage</button>
                            ) : (
                              <span style={{ fontSize: 11, color: "#6b7280" }}>
                                N/A
                              </span>
                            )}
                          </td>
                        </tr>
                      ))}
                    </tbody>
                  </table>
                </div>
              </section>

              {/* Section 3 */}
              <section className="card col-span-4">
                <div className="card-header">
                  <div>
                    <div className="card-title">Aggregate SHOH Index</div>
                    <div className="card-subtitle">
                      Social, Health, Outreach & Housing composite score
                    </div>
                  </div>
                  <span className="badge">Section 3</span>
                </div>
                <div className="metrics-row">
                  <div className="metric-pill">
                    <div className="metric-label">Current SHOH Index</div>
                    <div className="metric-value">73%</div>
                    <div className="metric-trend">Stable vs last quarter</div>
                  </div>
                </div>
              </section>

              {/* Section 4: same member list in full-screen style */}
              <section className="card col-span-8">
                <div className="card-header">
                  <div>
                    <div className="card-title">Unmatched Patients (Full List)</div>
                    <div className="card-subtitle">
                      Mirrors the same control selection above
                    </div>
                  </div>
                  <span className="badge">Section 4</span>
                </div>

                <div className="section-label">
                  Member list for: {activeControl}
                </div>

                <div className="table-container">
                  <table>
                    <thead>
                      <tr>
                        <th>Member Name</th>
                        <th>Member ID</th>
                        <th>Movement Type</th>
                        <th>County</th>
                        <th>Plan</th>
                        <th>Outreach Attempts</th>
                      </tr>
                    </thead>
                    <tbody>
                      {visibleMembers.map((m) => (
                        <tr key={m.id + "-bottom"}>
                          <td>{m.name}</td>
                          <td>{m.id}</td>
                          <td>{m.movementType}</td>
                          <td>{m.county}</td>
                          <td>{m.plan}</td>
                          <td>{m.outreachAttempts}</td>
                        </tr>
                      ))}
                    </tbody>
                  </table>
                </div>
              </section>
            </div>

            <footer className="page-footer">
              <span>
                <span className="highlight">Tip:</span> Click any KPI or count to drive the
                member lists in Sections 2 and 4.
              </span>
            </footer>
          </main>
        </div>
      );
    };

    const rootElement = document.getElementById("root");
    const root = ReactDOM.createRoot(rootElement);
    root.render(<App />);
  </script>
</body>
</html>
